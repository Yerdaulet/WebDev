private async Task<EsedoSledDto> CreateSledAsync(EsedoDocumentDto docDto)
{
	var esedoSled = new EsedoSledDto();
	esedoSled.ByteList = new List<byte>();

	string fileNames = string.Empty;
	foreach (var attachmentDto in docDto.Attachments)
	{
		var fileBytes = await _fileStorage.GetAsync(attachmentDto.Path + attachmentDto.Name);
		esedoSled.ByteList.AddRange(fileBytes);
		fileNames += attachmentDto.Name + EsedoConsts.TOSIGN_FILE_NAMES_SEPARATOR;
	}
	esedoSled.Sled = Convert.ToBase64String(esedoSled.ByteList.ToArray());
	esedoSled.FileNames = fileNames;

	return esedoSled;
}

private async Task<EsedoSledDto> CreateSecondSledAsync(EsedoDocumentDto docDto)
{
	List<byte> sledArray = new List<byte>();
	string sled = EsedoConsts.DOCUMENT_BEGIN_SLED + EsedoConsts.CR_LF
		+ EsedoConsts.DOCUMENT_NUMBER + docDto.DocNumber + EsedoConsts.CR_LF
		+ EsedoConsts.DOCUMENT_DATE + docDto.DocDate.Value.ToString("dd.MM.yyyy") + EsedoConsts.CR_LF
		+ EsedoConsts.DOCUMENT_AUTHOR + docDto.AuthorName + EsedoConsts.CR_LF;

	string fileNames = string.Empty;
	sledArray.AddRange(Encoding.UTF8.GetBytes(sled));

	foreach (var attachmentDto in docDto.Attachments)
	{
		var fileBytes = await _fileStorage.GetAsync(attachmentDto.Path + attachmentDto.Name);
		sledArray.AddRange(Encoding.UTF8.GetBytes(EsedoConsts.ATTACHMENT));
		sledArray.AddRange(fileBytes);
		sledArray.AddRange(Encoding.UTF8.GetBytes(EsedoConsts.CR_LF));

		fileNames += attachmentDto.Name + EsedoConsts.TOSIGN_FILE_NAMES_SEPARATOR;
	}
	return new EsedoSledDto()
	{
		ByteList = sledArray,
		FileNames = fileNames
	};
}


public class EsedoConsts
    {
        public const string CR_LF = "\r\n";

        public const string DOCUMENT_BEGIN_SLED = "SLED 1.0";

        public const string SURNAME = "Surname: ";

        public const string NAME = "Name: ";

        public const string JURIDICAL_NAME = "Juridical Name: ";

        public const string DOCUMENT_NUMBER = "Document Number: ";

        public const string DOCUMENT_DATE = "Document Date: ";

        public const string DOCUMENT_AUTHOR = "Document Author: ";

        public const string ADDRESS = "Address: ";

        public const string RECEIVER = "Receiver: ";

        public const string DESCRIPTION = "Description: ";

        public const string ATTACHMENT = "Attachment: ";

        public const string TOSIGN_FILE_NAMES_SEPARATOR = "<>";
    }